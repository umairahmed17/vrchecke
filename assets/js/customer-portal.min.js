"use strict";!function(c){c(document).ready(function(){var a=c(".edit_icon"),n=c("#edit_customer_form"),i="active",t=c("#submit",n),o=c(".loader"),r=c("#phone");n.find("input").attr("disabled",!0);function l(){r.removeClass("error"),s.html(""),s.addClass("hidden")}var s=c(".error-msg"),d=["Invalid number","Invalid country code","Too short","Too long","Invalid number"];r.intlTelInput({utilsScript:"/utils.js",allowDropdown:!1,localizedCountries:{de:"Deutschland"},separateDialCode:!0,initialCountry:"de",onlyCountries:["de"]});r.blur(function(){if(l(),r.val().trim())if(r.intlTelInput("isValidNumber"))t.attr("disabled",!1),console.log("valid");else{console.log("not valid"),r.addClass("error");var e=r.intlTelInput("getValidationError");s.html(d[e]),s.removeClass("hidden")}}),r.keyup(l),a.click(function(e){e.preventDefault(),n.find("input").attr("disabled",!1),n.find(".input__wrapper").addClass(i),c(this).toggleClass("hidden"),c(".portal__submit-wrap").toggleClass(i),t.attr("disabled",!0)}),t.click(function(e){e.preventDefault();var t=n.serialize()+"&action=vrchecke_portal_form";c.ajax({method:"POST",url:portal_script_options.ajaxurl,data:t,beforeSend:function(){o.toggleClass("loader--active")},complete:function(){o.toggleClass("loader--active")},success:function(e){for(var t in console.log(e.data),e.data)"success"!==t&&n.find("input[name=".concat(t,"]")).val(e.data["".concat(t)]);n.find("input").attr("disabled",!0),n.find(".input__wrapper").removeClass(i),a.toggleClass("hidden"),c(".portal__submit-wrap").toggleClass(i),n.submit()},error:function(e){c('input[name="edit_customer_nonce"]',n).val(e.responseJSON.data.nonce),c("#masthead").after(e.responseJSON.data.errors)}})}),c(".company-select-btn").each(function(){c(this).click(function(e){e.preventDefault(),c("input[name=selected_company]").attr("checked",!1),c(this).parent().parent().find("input[name=selected_company]").attr("checked","checked"),c(".icon-container",".option-container").css("display","none"),c(this).parent().prev().css("display","block")})})})}(jQuery);